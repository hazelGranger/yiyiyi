$(document).ready(function(){$("body").on("focus",".input-group input",function(){$(this).parent().addClass("active")}).on("blur",".input-group input",function(){$(this).parent().removeClass("active")})}),$(document).ready(function(){var a="nDuEBRrJOIE9S6m0LXMAhs9w-gzGzoHsz",b="gQOsO2P8gdv0c1xwyymQodkK";AV.initialize({appId:a,appKey:b});var c=AV.Object.extend("UserRequest"),d=new c,e=function(a,b){return console.log("msg"),'<div class="message '+b+'"><p>'+a+"</p></div>"};$("body").on("click","#m-submit",function(){var a={name:0,email:0,company:0,website:0,where:0,accountType:0,duration:0,budget:0,others:0},b=!1,c=function(a){return a&&""!=a?1:0},f=function(a){return a&&a.length>0?1:0},g=function(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a&&""!=a?b.test(a)?1:2:0},h={name:function(){var b=$('input[name="name"]').val();return a.name=c(b),b}(),email:function(){var b=$('input[name="email"]').val();return a.email=g(b),b}(),company:function(){var b=$('input[name="company"]').val();return a.company=c(b),b}(),website:function(){var b=$('input[name="website"]').val();return a.website=c(b),b}(),where:function(){var b=$('input[name="where"]').val();return a.where=c(b),b}(),accountType:function(){var b=[];return $('input[name="accountType"]:checked').each(function(){b.push($(this).val())}),a.accountType=f(b),b}(),duration:function(){var b=$('input[name="duration"]:checked').val();return a.duration=c(b),b}(),budget:function(){var b=$('input[name="budget"]:checked').val();return a.budget=c(b),b}(),others:function(){var b=$('textarea[name="others"]').val();return a.others=c(b),b}()};console.log(h);var i=function(){b=!0;for(prop in a)0==a[prop]&&(console.log(prop,a[prop]),b=!1,$("#m_"+prop).text("此项不能为空")),2==a[prop]&&(console.log(prop,a[prop]),b=!1,$("#m_"+prop).text("此项格式不正确"));return b};i()&&d.save(h).then(function(){console.log("success");var a=e("发送成功","success");$(a).appendTo("body").show("slow"),setTimeout(function(){$(".message").animate({opacity:"0"},500).remove()},1e3)})["catch"](function(a){console.log("error:"+a);var b=e("发送失败","error");$(b).appendTo("body").show("slow"),setTimeout(function(){$(".message").animate({opacity:"0"},300).remove()},1e3)})}),$("body").on("focus","input,textarea",function(){$(".v-info").text("")})});